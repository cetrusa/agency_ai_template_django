{#
Sidebar: navegación server-driven.

Regla:
- Links tienen href real (deep-linking)
- HTMX carga el contenido en #app-content y empuja URL
#}
{% load static %}
<aside class="app-sidebar p-3">
  <div class="mb-3 ds-muted small">MENÚ</div>

  <nav class="nav flex-column gap-1">
    {% for module in request.navigation_modules %}
      <a class="nav-link d-flex align-items-center gap-2"
         href="{% url module.url_name %}"
         hx-get="{% url module.url_name %}"
         hx-target="#app-content"
         hx-swap="innerHTML"
         hx-push-url="true">
        <i class="bi {{ module.icon }}"></i>
        <span class="sidebar-label">{{ module.label }}</span>
      </a>
    {% endfor %}
  </nav>

  <hr class="my-4" />

  <div class="ds-muted small mb-2">ACCIONES</div>
  <div class="d-grid gap-2">
    <a class="btn btn-outline-secondary btn-sm"
       href="{% url 'dashboard:index' %}"
       hx-get="{% url 'dashboard:index' %}"
       hx-target="#app-content"
       hx-swap="innerHTML"
       hx-push-url="true">
      <i class="bi bi-house"></i> Inicio
    </a>
  </div>
</aside>
